{"remainingRequest":"E:\\idea\\gwc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\idea\\gwc\\src\\pages\\shopcar.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\idea\\gwc\\src\\pages\\shopcar.vue","mtime":1630032563889},{"path":"E:\\idea\\gwc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\idea\\gwc\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\idea\\gwc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\idea\\gwc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJzaG9wY2FyIiwKICAgIGNvbXBvbmVudHM6e30sCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICB0b3RhbDowLAogICAgICAgICAgICBhZGRyZXNzOicnLAogICAgICAgICAgICBhbGxDaGVja2VkOmZhbHNlLAogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDp7CiAgICAgICAgYWxsQ2hlY2tlZCh2YWwpewogICAgICAgICAgICBpZih2YWwgPT09IHRydWUpewogICAgICAgICAgICAgICAgdGhpcy5zaG9wQ2FyLmZvckVhY2goKGl0ZW0pPT57CiAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGVja2VkID0gdHJ1ZQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfWVsc2UgaWYodmFsID09PSBmYWxzZSl7CiAgICAgICAgICAgICAgICB0aGlzLnNob3BDYXIuZm9yRWFjaCgoaXRlbSk9PnsKICAgICAgICAgICAgICAgICAgICBpdGVtLmNoZWNrZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQoKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6ewogICAgICAgIHVzZXJJbmZvKCl7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXIKICAgICAgICB9LAogICAgICAgIHNob3BDYXIoKXsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuc2hvcENhcgogICAgICAgIH0sCiAgICAgICAgdG90YWxDaGVja2VkKCl7CiAgICAgICAgICAgIGxldCB0b3RhbENoZWNrZWQgPSAwOwogICAgICAgICAgICB0aGlzLnNob3BDYXIuZm9yRWFjaCgoaXRlbSk9PnsKICAgICAgICAgICAgICAgIGlmKGl0ZW0uY2hlY2tlZCl7CiAgICAgICAgICAgICAgICAgICAgdG90YWxDaGVja2VkICs9IGl0ZW0uY291bnQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgcmV0dXJuIHRvdGFsQ2hlY2tlZDsKICAgICAgICB9LAogICAgICAgIHRvdGFsUHJpY2UoKXsKICAgICAgICAgICAgbGV0IHRvdGFsUHJpY2UgPSAwOwogICAgICAgICAgICB0aGlzLnNob3BDYXIuZm9yRWFjaCgoaXRlbSk9PnsKICAgICAgICAgICAgICAgIGlmKGl0ZW0uY2hlY2tlZCl7CiAgICAgICAgICAgICAgICAgICAgdG90YWxQcmljZSArPWl0ZW0udW5pdFByaWNlICogaXRlbS5jb3VudAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICByZXR1cm4gdG90YWxQcmljZTsKICAgICAgICB9LAoKCiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgZGVsZXRlSXRlbShpdGVtKXsKICAgICAgICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5Yig6Zmk77yfJykKICAgICAgICAgICAgICAgIC50aGVuKCgpPT57CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG9wQ2FyLnNwbGljZSh0aGlzLnNob3BDYXIuaW5kZXhPZihpdGVtKSwxKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoKT0+ewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+i/meS5iOe6oOe7k+WQl++8nycpCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZGVsZXRlQ2hlY2tlZCgpewogICAgICAgICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTliKDpmaTvvJ8nKQogICAgICAgICAgICAgICAgLnRoZW4oKCk9PnsKICAgICAgICAgICAgICAgICAgICBbLi4udGhpcy5zaG9wQ2FyXS5mb3JFYWNoKChpdGVtKT0+ewogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmNoZWNrZWQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG9wQ2FyLnNwbGljZSh0aGlzLnNob3BDYXIuaW5kZXhPZihpdGVtLDEpKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKCk9PnsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfov5nkuYjnuqDnu5PlkJfvvJ8nKQogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgfSwKICAgICAgICBwdXJjaGFzZSgpewoKICAgICAgICB9LAogICAgfSwKCn0K"},{"version":3,"sources":["shopcar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA","file":"shopcar.vue","sourceRoot":"src/pages","sourcesContent":["<template >\r\n    <div id=\"shopcar\">\r\n        <el-card ref=\"contents\">\r\n            <el-row>\r\n                <div >\r\n                    <span style=\"font-size: 1.3em;color: #409EFF\">全部商品&nbsp;{{shopCar.length}}</span>\r\n                </div>\r\n                <div class=\"trans\">\r\n                    <span>配送至：</span>\r\n                    <el-select v-model=\"address\" placeholder=\"请选择\" >\r\n                        <el-option\r\n                                v-for=\"(item,index) in userInfo.addressList\"\r\n                                :key=\"index\"\r\n                                :label=\"item\"\r\n                                :value=\"item\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </div>\r\n            </el-row>\r\n\r\n            <el-row style=\"padding: 35px 0 0 25px\">\r\n                <el-col :span=\"3\"><el-checkbox v-model=\"allChecked\">全选</el-checkbox></el-col>\r\n                <el-col :span=\"11\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;商品</span></el-col>\r\n                <el-col :span=\"3\"><span>单价</span></el-col>\r\n                <el-col :span=\"3\"><span>数量</span></el-col>\r\n                <el-col :span=\"2\"><span>小计</span></el-col>\r\n                <el-col :span=\"2\"><span>操作</span></el-col>\r\n            </el-row>\r\n            <el-card shadow=\"none\" v-for=\"(item,index) in shopCar\" :key=\"index\">\r\n                <el-row style=\"padding: 20px 0 0 0\">\r\n                    <el-col class=\"padding10\" :span=\"1\"><el-checkbox v-model=\"item.checked\"></el-checkbox></el-col>\r\n                    <el-col class=\"padding10\" :span=\"3\"><el-image :src=\"item.imgUrl\"></el-image>&nbsp;&nbsp;&nbsp;&nbsp;</el-col>\r\n                    <el-col class=\"padding10\" :span=\"10\"><span>{{item.name}}</span></el-col>\r\n                    <el-col class=\"padding10\" :span=\"2\"><span>&nbsp;&nbsp;{{item.unitPrice}}</span></el-col>\r\n                    <el-col class=\"padding10\" :span=\"4\">&nbsp;&nbsp;<el-input-number v-model=\"item.count\" :min=\"1\" label=\"\" size=\"mini\"></el-input-number></el-col>\r\n                    <el-col class=\"padding10\" :span=\"2\"><span>&nbsp;&nbsp;&nbsp;&nbsp;{{item.unitPrice*item.count}}</span></el-col>\r\n                    <el-col class=\"padding10\" :span=\"2\" >&nbsp;&nbsp;<el-button size=\"mini\" @click=\"deleteItem(item)\" style=\"background-color: aliceblue\">删除</el-button></el-col>\r\n                </el-row>\r\n            </el-card>\r\n        </el-card>\r\n        <el-card class=\"footer\">\r\n            <el-row style=\"width:100%\">\r\n                <el-col style=\"padding: 18px 0 0 0\" :span=\"3\"><el-checkbox v-model=\"allChecked\">全选</el-checkbox></el-col>\r\n                <el-col class=\"padding10\" :span=\"9\" ><el-button type=\"text\" @click=\"deleteChecked()\">删除选中商品</el-button></el-col>\r\n                <el-col class=\"padding10\" :span=\"3\"><el-button type=\"text\">移入关注</el-button></el-col>\r\n                <el-col style=\"padding: 18px 0 0 0\" :span=\"3\"><span>已选{{totalChecked}}件商品</span></el-col>\r\n                <el-col style=\"padding: 18px 0 0 0\" :span=\"4\"><span>总价：￥{{totalPrice}}</span></el-col>\r\n                <el-col  :span=\"2\"><el-button style=\"background-color: aliceblue;box-shadow: 5px 5px 5px 0\" @click=\"purchase\" >结算</el-button></el-col>\r\n            </el-row>\r\n        </el-card>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"shopcar\",\r\n        components:{},\r\n        data(){\r\n            return{\r\n                total:0,\r\n                address:'',\r\n                allChecked:false,\r\n            }\r\n        },\r\n        watch:{\r\n            allChecked(val){\r\n                if(val === true){\r\n                    this.shopCar.forEach((item)=>{\r\n                        item.checked = true\r\n                    })\r\n                }else if(val === false){\r\n                    this.shopCar.forEach((item)=>{\r\n                        item.checked = false\r\n                    })\r\n                }\r\n\r\n            }\r\n        },\r\n        computed:{\r\n            userInfo(){\r\n                return this.$store.getters.user\r\n            },\r\n            shopCar(){\r\n                return this.$store.getters.shopCar\r\n            },\r\n            totalChecked(){\r\n                let totalChecked = 0;\r\n                this.shopCar.forEach((item)=>{\r\n                    if(item.checked){\r\n                        totalChecked += item.count\r\n                    }\r\n                })\r\n                return totalChecked;\r\n            },\r\n            totalPrice(){\r\n                let totalPrice = 0;\r\n                this.shopCar.forEach((item)=>{\r\n                    if(item.checked){\r\n                        totalPrice +=item.unitPrice * item.count\r\n                    }\r\n                })\r\n                return totalPrice;\r\n            },\r\n\r\n\r\n        },\r\n        methods:{\r\n            deleteItem(item){\r\n                this.$confirm('确认删除？')\r\n                    .then(()=>{\r\n                        this.shopCar.splice(this.shopCar.indexOf(item),1)\r\n                    })\r\n                    .catch(()=>{\r\n                        this.$message.error('这么纠结吗？')\r\n                    })\r\n            },\r\n            deleteChecked(){\r\n                this.$confirm('确认删除？')\r\n                    .then(()=>{\r\n                        [...this.shopCar].forEach((item)=>{\r\n                            if(item.checked){\r\n                                this.shopCar.splice(this.shopCar.indexOf(item,1))\r\n                            }\r\n                        })\r\n                    })\r\n                    .catch(()=>{\r\n                        this.$message.error('这么纠结吗？')\r\n                    })\r\n\r\n            },\r\n            purchase(){\r\n\r\n            },\r\n        },\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .trans{\r\n        position: absolute;\r\n        left:65%;\r\n        top:0%;\r\n        padding: 0 15px;\r\n\r\n    }\r\n    .padding10{\r\n        padding: 10px 0 0 0;\r\n    }\r\n    .footer{\r\n        position: fixed;\r\n        bottom:0;\r\n        width: 74%;\r\n    }\r\n\r\n</style>"]}]}